<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 Server usage | Ryten lab induction book</title>
  <meta name="description" content="Induction bookdown for all things Ryten lab" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="4 Server usage | Ryten lab induction book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Induction bookdown for all things Ryten lab" />
  <meta name="github-repo" content="rytenlab/ryten_induction" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 Server usage | Ryten lab induction book" />
  
  <meta name="twitter:description" content="Induction bookdown for all things Ryten lab" />
  

<meta name="author" content="" />


<meta name="date" content="2020-11-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="learning-r.html"/>
<link rel="next" href="data-backup.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome!</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#useful-links"><i class="fa fa-check"></i><b>1.1</b> Useful links</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.2</b> Acknowledgements</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="contribute.html"><a href="contribute.html"><i class="fa fa-check"></i><b>2</b> Contributing guide</a><ul>
<li class="chapter" data-level="2.1" data-path="contribute.html"><a href="contribute.html#why-contribute"><i class="fa fa-check"></i><b>2.1</b> Why contribute?</a></li>
<li class="chapter" data-level="2.2" data-path="contribute.html"><a href="contribute.html#what-should-i-contribute"><i class="fa fa-check"></i><b>2.2</b> What should I contribute?</a></li>
<li class="chapter" data-level="2.3" data-path="contribute.html"><a href="contribute.html#contribute-how"><i class="fa fa-check"></i><b>2.3</b> How should I contribute?</a><ul>
<li class="chapter" data-level="2.3.1" data-path="contribute.html"><a href="contribute.html#basics"><i class="fa fa-check"></i><b>2.3.1</b> Basics</a></li>
<li class="chapter" data-level="2.3.2" data-path="contribute.html"><a href="contribute.html#adding-references"><i class="fa fa-check"></i><b>2.3.2</b> Adding References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="learning-r.html"><a href="learning-r.html"><i class="fa fa-check"></i><b>3</b> Learning R</a><ul>
<li class="chapter" data-level="3.1" data-path="learning-r.html"><a href="learning-r.html#why-r"><i class="fa fa-check"></i><b>3.1</b> Why R?</a></li>
<li class="chapter" data-level="3.2" data-path="learning-r.html"><a href="learning-r.html#r-resources"><i class="fa fa-check"></i><b>3.2</b> R resources</a><ul>
<li class="chapter" data-level="3.2.1" data-path="learning-r.html"><a href="learning-r.html#beginner-r"><i class="fa fa-check"></i><b>3.2.1</b> Beginner</a></li>
<li class="chapter" data-level="3.2.2" data-path="learning-r.html"><a href="learning-r.html#intermediate"><i class="fa fa-check"></i><b>3.2.2</b> Intermediate</a></li>
<li class="chapter" data-level="3.2.3" data-path="learning-r.html"><a href="learning-r.html#advanced"><i class="fa fa-check"></i><b>3.2.3</b> Advanced</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="learning-r.html"><a href="learning-r.html#asking-for-help"><i class="fa fa-check"></i><b>3.3</b> Asking for help</a><ul>
<li class="chapter" data-level="3.3.1" data-path="learning-r.html"><a href="learning-r.html#where-to-ask-for-help"><i class="fa fa-check"></i><b>3.3.1</b> Where to ask for help?</a></li>
<li class="chapter" data-level="3.3.2" data-path="learning-r.html"><a href="learning-r.html#how-to-ask-for-help"><i class="fa fa-check"></i><b>3.3.2</b> How to ask for help?</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="learning-r.html"><a href="learning-r.html#teaching-r"><i class="fa fa-check"></i><b>3.4</b> Teaching R</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="server-usage.html"><a href="server-usage.html"><i class="fa fa-check"></i><b>4</b> Server usage</a><ul>
<li class="chapter" data-level="4.1" data-path="server-usage.html"><a href="server-usage.html#why-use-the-ryten-server"><i class="fa fa-check"></i><b>4.1</b> Why use the Ryten server?</a></li>
<li class="chapter" data-level="4.2" data-path="server-usage.html"><a href="server-usage.html#usage-guide"><i class="fa fa-check"></i><b>4.2</b> Usage guide</a></li>
<li class="chapter" data-level="4.3" data-path="server-usage.html"><a href="server-usage.html#how-to-connect-to-a-remote-server"><i class="fa fa-check"></i><b>4.3</b> How to connect to a remote server?</a><ul>
<li class="chapter" data-level="4.3.1" data-path="server-usage.html"><a href="server-usage.html#setup-ucl-vpn"><i class="fa fa-check"></i><b>4.3.1</b> Setup UCL VPN</a></li>
<li class="chapter" data-level="4.3.2" data-path="server-usage.html"><a href="server-usage.html#are-you-a-windows-user"><i class="fa fa-check"></i><b>4.3.2</b> Are you a Windows user?</a></li>
<li class="chapter" data-level="4.3.3" data-path="server-usage.html"><a href="server-usage.html#connect-rserver"><i class="fa fa-check"></i><b>4.3.3</b> Connecting via RStudio Server</a></li>
<li class="chapter" data-level="4.3.4" data-path="server-usage.html"><a href="server-usage.html#connecting-via-a-shell-session"><i class="fa fa-check"></i><b>4.3.4</b> Connecting via a shell session</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-backup.html"><a href="data-backup.html"><i class="fa fa-check"></i><b>5</b> Data backup</a><ul>
<li class="chapter" data-level="5.1" data-path="data-backup.html"><a href="data-backup.html#why-backup-your-data-stored-on-the-ryten-server"><i class="fa fa-check"></i><b>5.1</b> Why backup your data stored on the Ryten server?</a></li>
<li class="chapter" data-level="5.2" data-path="data-backup.html"><a href="data-backup.html#what-options-are-available-to-you-as-ryten-server-user"><i class="fa fa-check"></i><b>5.2</b> What options are available to you as Ryten server user?</a></li>
<li class="chapter" data-level="5.3" data-path="data-backup.html"><a href="data-backup.html#what-are-good-practices-for-data-backup"><i class="fa fa-check"></i><b>5.3</b> What are good practices for data backup?</a></li>
<li class="chapter" data-level="5.4" data-path="data-backup.html"><a href="data-backup.html#aws"><i class="fa fa-check"></i><b>5.4</b> AWS</a></li>
<li class="chapter" data-level="5.5" data-path="data-backup.html"><a href="data-backup.html#github"><i class="fa fa-check"></i><b>5.5</b> Github</a></li>
<li class="chapter" data-level="5.6" data-path="data-backup.html"><a href="data-backup.html#ucl-rds"><i class="fa fa-check"></i><b>5.6</b> UCL RDS</a><ul>
<li class="chapter" data-level="5.6.1" data-path="data-backup.html"><a href="data-backup.html#registering-a-project"><i class="fa fa-check"></i><b>5.6.1</b> Registering a project</a></li>
<li class="chapter" data-level="5.6.2" data-path="data-backup.html"><a href="data-backup.html#accessing-your-project-space"><i class="fa fa-check"></i><b>5.6.2</b> Accessing your project space</a></li>
<li class="chapter" data-level="5.6.3" data-path="data-backup.html"><a href="data-backup.html#using-rsync-to-backup-to-ucl-rds"><i class="fa fa-check"></i><b>5.6.3</b> Using <code>rsync</code> to backup to UCL RDS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>6</b> Resources</a><ul>
<li class="chapter" data-level="6.1" data-path="resources.html"><a href="resources.html#how-tos"><i class="fa fa-check"></i><b>6.1</b> How-tos</a></li>
<li class="chapter" data-level="6.2" data-path="resources.html"><a href="resources.html#reproducible-science"><i class="fa fa-check"></i><b>6.2</b> Reproducible science</a></li>
<li class="chapter" data-level="6.3" data-path="resources.html"><a href="resources.html#books"><i class="fa fa-check"></i><b>6.3</b> Books</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>7</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ryten lab induction book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="server-usage" class="section level1">
<h1><span class="header-section-number">4</span> Server usage</h1>
<div id="why-use-the-ryten-server" class="section level2">
<h2><span class="header-section-number">4.1</span> Why use the Ryten server?</h2>
<p>The Ryten server is useful for a couple of reasons:</p>
<ol style="list-style-type: decimal">
<li>They enable a common environment for all members of the Ryten lab to work on. You can easily share results without duplication or data that’s too large to sit on your personal computers by sharing the path to the directory/file on the Ryten server. And data that lies in the server will extend beyond your time at the Ryten lab for future members to access.</li>
<li>They allow you to conduct analysis that exceeds the computational resources of (or take extremely long on) your local computer. The Ryten server has &gt;20Tb of storage space, ~256Gb of RAM and 112 CPUs, though at times, even this will feel too small!</li>
</ol>
</div>
<div id="usage-guide" class="section level2">
<h2><span class="header-section-number">4.2</span> Usage guide</h2>
<p>The Ryten server is a shared between all Ryten lab members and we’d like to keep the experience of all user’s as smooth and enjoyable as it can be. For this reason, we’ve set out a few guidelines you should follow when using the Ryten server:</p>
<ol style="list-style-type: decimal">
<li><strong>Deleting files</strong>: Especially for those just starting out with programming, be aware that when you connect to Ryten server you have access to all the data and scripts owned by other Ryten lab members. Some of these can be easily regenerated, however for others regeneration will be near impossible (e.g. raw RNA-seq data) or time-consuming. There are fail-safe measures in place to prevent deletion accidents such as setting permissions to read-only and <a href="data-backup.html#data_backup">backing up our data</a>. But <strong>please take care when removing files</strong>.</li>
<li><strong>Shared directories</strong>: The <code>/data</code> directory is where you should save common files that you expect will be used by others members of the lab. If you need to access something that seems general purpose (e.g. <code>GTF</code> files lie in <code>/data/references</code>) then it’s possible that it exists already. If you’ve checked and it doesn’t, then please add it in <code>/data</code>. Alternatively, if the data is project-specific then place it in your home directory (each user will have a <code>home</code> at the path <code>/home/user_name</code>).</li>
<li><strong>Big jobs</strong>: There’s a possibility that you’ll need run a process that will consume a large amount of memory and/or CPUs (potentially rendering the server unusable by others for a duration). This kind of run should be saved for jobs that are urgent (deadline fast approaching) or can <strong>only</strong> be run in such a way (e.g. requires loading in a huge object). If you’re planning to run something that fits this criteria, please give a heads up to the others in the lab and try to miminize the server outage time (run over weekends).</li>
</ol>
</div>
<div id="how-to-connect-to-a-remote-server" class="section level2">
<h2><span class="header-section-number">4.3</span> How to connect to a remote server?</h2>
<p>There are two main ways to connect to the Ryten server, both involving the Secure Socket Shell (<code>ssh</code>) protocol. <code>ssh</code> is a popular method of connecting securely to a remote server using the command line.</p>
<p>For the Ryten server, we either directly <code>ssh</code> in (for a shell/bash session) or tunnel in using <code>ssh</code> (to use RStudio Server). Both of these methods are detailed below. These require the input of a user name and the host’s IP address (referred to as <code>user_name</code> and <code>ryten_server_IP</code> respectively below). If you don’t have either of these, please ask one of the existing members.</p>
<blockquote>
<p>Note: If you do run into issues during this process, it’s also most likely a problem with this guide (which we a still finalizing) rather than you. We’d really prefer if you ask rather than experiment as this helps us know which areas still need to be clarified and means we don’t run into any unintentional server crashes.</p>
</blockquote>
<div id="setup-ucl-vpn" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Setup UCL VPN</h3>
<p>If you want to connect to the Ryten server whilst you’re at home, in a coffee shop or anywhere outside of UCL (i.e. not connected to <a href="https://www.ucl.ac.uk/isd/services/get-connected/wi-fi-wireless-networks/eduroam-wi-fi-ucl">eduroam</a>) then you need to first login to UCL’s virtual private network each time you reconnect to the Ryten server. The official guide on how to do so can be found <a href="https://www.ucl.ac.uk/isd/services/get-connected/ucl-virtual-private-network-vpn">here</a>. The username and password for this are your UCL credentials (e.g. those you would use for Portico).</p>
</div>
<div id="are-you-a-windows-user" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Are you a Windows user?</h3>
<p>If the answer is no and you’re on a Mac or linux operating system, then skip ahead to the <a href="server-usage.html#connect-rserver">next section</a>. The <code>ssh</code> commands are required to be run on a local <code>terminal</code>, which isn’t available by default on Windows.</p>
<p>To access a local <code>terminal</code> on Windows, we use the <code>ssh</code> client <a href="https://mobaxterm.mobatek.net/">MobaXterm</a>. Please download this and install it. To configure this to access the Ryten server… TO BE ADDED.</p>
</div>
<div id="connect-rserver" class="section level3">
<h3><span class="header-section-number">4.3.3</span> Connecting via RStudio Server</h3>
<p>The Ryten server has a continuously running, free version of <a href="https://rstudio.com/products/rstudio/download-server/">RStudio Server</a> installed. This allows you to use the nice interface of RStudio, whilst accessing the computing infrastructure of the Ryten Server. This is most commonly what you’ll be using when you want to write <code>R</code> code.</p>
<p>The Ryten server’s RStudio Server is available via <code>localhost:8787</code>. In order to access this on our own machines, we link <code>localhost:8787</code> on the server to the same address on our local machines. This can be achieved by running the the command below in your <strong>local</strong> terminal:</p>
<blockquote>
<p>Note: make sure you run this from your <strong>local</strong> terminal and <strong>NOT</strong> from inside the server.</p>
</blockquote>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="server-usage.html#cb5-1"></a><span class="fu">ssh</span> -X -N -f -L localhost:8787:localhost:8787 user_name@ryten_server_IP</span></code></pre></div>
<p>The easiest way to run this would be to copy the command above and replace <code>user_name</code> with your own and <code>ryten_server_IP</code> with the correct IP (ask one of the existing members if you don’t have either). After you have run this command successfully (you’ll be asked to enter your credentials the first time) then you can access the <code>RStudio Server</code> session via typing <code>localhost:8787</code> in the address bar on your internet browser. You will see a RStudio theme’d credential screen the first time round where you should enter your Ryten server <code>user_name</code> and password. After which, you should be all set! Enjoy :)</p>
</div>
<div id="connecting-via-a-shell-session" class="section level3">
<h3><span class="header-section-number">4.3.4</span> Connecting via a shell session</h3>
<p>The second method to connect to the Ryten server is via an interactive shell/bash session. This is often used for things such as exploring the files/directories that exist on the server, checking what’s currently running on the server using <code>top</code>, running non-<code>R</code> processes and setting up big runs that can continue even after you close your connection to server.</p>
<p>To do this use the command below from your <strong>local</strong> <code>terminal</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="server-usage.html#cb6-1"></a>ssh user_name<span class="op">@</span>ryten_server_IP</span></code></pre></div>
<p>This will open another <code>terminal</code>, on which you can do anything you would in your local <code>terminal</code>, however instead you’ll be using the infrastructure of the Ryten server.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="learning-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-backup.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
